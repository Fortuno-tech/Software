<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./index.css">
  <link rel="stylesheet" href="./Style pour boutn √©clairage.css">
  <script src="./index.js" defer></script>
  <script src="./firmware.js" defer></script>
  <script src="./Bouton √©clairage.js" defer></script>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body id="body">
  <div class="block_Entier">
    <header>
      <div class="container-head">
        <h1>
          <span class="head1">Fortico</span>
          <span class="head2">Smart</span>
          <span class="head3">Home</span>
        </h1>
      </div>
    </header>
    <!-- GAUCHE 
        le navigation  
        -->
    <div class="container">
      <section class="section_Gauche" id="sectionGauche">
        <div>
          <div class="myHome">
            <div>
              <div>
                <div class="pdp">
                  <img id="profile-pic" src="" alt="" title="import image">
                </div>
                <div class="import-pdp">
                  <input type="file" id="upload" accept="image/*" title="import-image">
                  <label for="upload" class="custom-file-upload">
                    <img src="./Icones/icons8-appareil-photo-100.png" alt="Ic√¥ne fichier" class="image-background">
                  </label>
                  
                  
                </div>
                <div>
                  <h3>My Home <span style="color: aqua;cursor:pointer">‚ñº</span></h3>
                </div>
              </div>
            </div>
          
          </div>
          <div>
            <nav>
              <ul class="nav-buttons">
                <li>
                  <a href="#" class="nav-link active" data-target="content-section">
                    <img src="Icones/homeHigh.png" alt="Home" class="icon-left" data-default="Icones/homeLow.png"
                      data-active="Icones/homeHigh.png">
                    Acceuil
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-link" data-target="section_Appareil">
                    <img src="Icones/equipementLow.png" alt="Appareil" class="icon-left"
                      data-default="Icones/equipementLow.png" data-active="Icones/equipementHigh.png">
                    Appareils
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-link" data-target="section_Chambre">
                    <img src="Icones/chambreLow.png" alt="Chambre" class="icon-left"
                      data-default="Icones/chambreLow.png" data-active="Icones/chambreHigh.png">
                    Chambre
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-link" data-target="section_Ajout">
                    <img src="Icones/ajoutLow.png" alt="Ajout" class="icon-left" data-default="Icones/ajoutLow.png"
                      data-active="Icones/ajoutHigh.png">
                    Ajout Appareil
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-link" data-target="section_scene">
                    <img src="Icones/botLow.png" alt="Sc√®ne" class="icon-left" data-default="Icones/botLow.png"
                      data-active="Icones/botHigh.png">
                    Sc√®ne
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-link" data-target="section_acces">
                    <img src="Icones/accesLow.png" alt="Acc√®s" class="icon-left" data-default="Icones/accesLow.png"
                      data-active="Icones/accesHigh.png">
                    Acc√®s
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-link" data-target="section_parametre">
                    <img src="Icones/parametreLow.png" alt="Param√®tre" class="icon-left"
                      data-default="Icones/parametreLow.png" data-active="Icones/parametreHigh.png">
                    Param√®tre
                  </a>
                </li>
              </ul>
            </nav>
          </div>

        </div>
      </section>
      <!-- 
        le stricture eo ampoviny rehetra manomnoka eto
        -->
      <section id="content-section" class="content-section">

        <div id="img_fonctionalite" class="img_fonctionalite">
          <div class="Big_image_Home">
            <!-- suppression de : 
             <img src="Images/t√©l√©chargement.jfif" alt="txt" width="" height="">
             ajout de img id="randomImage" src=""... 
              -->
              <div class="loader" id="loader"></div>
            <img id="randomImage" src="" alt="txt" width="" width="300">


          </div>
          <div class="fonctionalite">
            <div class="F1">
              <img src="/Icones/ajoutLow.png">
              <h2>Ajout √©quipement</h2>
            </div>

          </div>
        </div>

        <div class="section_droite">

          <div class="Meteo">
            <!-- Bloc gauche : Localisation + Date/Heure 
                        -->
            <div class="left-block">
              <div class="location">
                <img src="/Icones/icons8-place-marker-100.png" alt="Localisation">
                <div id="city">Tamatave, 501</div>
              </div>
              <div class="time-date" id="time-date">Chargement...</div>
            </div>

            <!-- Bloc droit : 3 ic√¥nes m√©t√©o -->
            <div class="right-block">
              <div class="info-block">
                <img src="/Icones/icons8-pluie-100.png" alt="M√©t√©o" id="weather-img">
                <div id="weather-value">--%</div>
              </div>
              <div class="info-block">
                <img src="/Icones/icons8-humide-100 (1).png" alt="Humidit√©">
                <div id="humidity">--%</div>
              </div>
              <div class="info-block">
                <img src="/Icones/temperature.png" alt="Temp√©rature">
                <div id="temp">--¬∞C</div>
              </div>
            </div>
          </div>
          <!-- 
                     Fin de la classe Meteo -->

          <div class="bedroom">
            <img src="/Icones/ajoutLow.png">
            <h2>Ajout Cam√©ra</h2>
          </div>


      </section>


          <!-- Section Appareil -->
          <section id="section_Appareil" class="content-section" style="display: none;">
            <div class="container-top">
              <p>Appareil</p>
            </div>
            <div class="container">    
          
            <table>
              <thead>
                <tr>
                  <th>√âquipement</th>
                  <th>Nom</th>
                  <th>Adresse MAC</th>
                  <th>Emplacement</th>
                  <th>Statut</th>
                  <th>Date de mise en service</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><img class="icon-leftDevis" src="./Icones/lumiere.png" alt="" ></td>
                  <td>Smart switch V1 M1</td>
                  <td>C8:C7:A3:3F:6C:3F</td>
                  <td>S√©jour</td>
                  <td>
                    <label class="switchE">
                      <input type="checkbox" />
                      <span class="sliderAppareil"></span>
                    </label>
                  </td>
                  <td>12/05/25</td>
                  <td class="dots">‚ãÆ</td>
                </tr>
                <tr>
                  <td><img class="icon-leftDevis" src="./Icones/prise.png" alt="" ></td>
                  <td>Prise connecter</td>
                  <td>C8:C10:A4:2F:6C:3A</td>
                  <td>Cuisine</td>
                  <td>
                    <label class="switchE">
                      <input type="checkbox" />
                      <span class="slider"></span>
                    </label>
                  </td>
                  <td>18/05/25</td>
                  <td class="dots">‚ãÆ</td>
                </tr>
                <tr>
                  <td><img class="icon-leftDevis" src="./Icones/clim.png" alt="" ></td>
                  <td>Climatiseur</td>
                  <td>F8:C9:A3:2F:6C:3A</td>
                  <td>Chambre b√©b√©</td>
                  <td>
                    <label class="switchE">
                      <input type="checkbox"/>
                      <span class="sliderAppareil"></span>
                    </label>
                  </td>
                  <td>12/05/25</td>
                  <td class="dots">‚ãÆ</td>
                </tr>
                <tr>
                  <td><img class="icon-leftDevis" src="./Icones/sonnette.png" alt="" ></td>
                  <td>Sonnette</td>
                  <td>J8:C9:A3:2F:6C:3F</td>
                  <td>V√©randa</td>
                  <td>
                    <label class="switchE">
                      <input type="checkbox"/>
                      <span class="slider"></span>
                    </label>
                  </td>
                  <td>15/05/25</td>
                  <td class="dots">‚ãÆ</td>
                </tr>
                <tr>
                  <td><img class="icon-leftDevis" src="./Icones/nuage.png" alt="" ></td>
                  <td>Station m√©t√©o</td>
                  <td>K8:C9:A3:2F:6C:3F</td>
                  <td>V√©randa</td>
                  <td>
                    <label class="switchE">
                      <input type="checkbox"/>
                      <span class="sliderAppareil"></span>
                    </label>
                  </td>
                  <td>20/05/25</td>
                  <td class="dots">‚ãÆ</td>
                </tr>
              </tbody>
            </table>
          </div>  
          </section>

      <!-- Section Chambre -->
      <section id="section_Chambre" class="content-section" style="display: none;">
        <div class="container-top">
          <p>Chambres</p>
        </div>
        <!-- <p>Contenu des chambres</p> -->

        <div class="containers">
          <div class="container-left">
            <nav>
              <ul class="nav-buttonsDevis">
                <li>
                  <button class="nav-link_devis active" data-target="section-Eclairage">
                    Chambre a coucher
                    <img src="Icones/icons8-chambre-int√©rieur-100 (1).png" alt="chambre" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Prise">
                    Chambre bebe
                    <img src="Icones/icons8-crib-100 (1).png" alt="chambre-bebe" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Climatiseur">
                    Sejour
                    <img src="Icones/icons8-sofa-100 (1).png" alt="Climatiseur" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Sonnette">
                    Salle de bain
                    <img src="Icones/icons8-baignoire-100 (1).png" alt="Sonnette" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Station">
                    Veranda
                    <img src="Icones/homeLow.png" alt="Station m√©t√©o" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Gaz">
                    Garage
                    <img src="Icones/chambreLow.png" alt="D√©tecteur de gaz" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Presence">
                    Cuisine
                    <img src="Icones/icons8-noodles-100 (1).png" alt="D√©tecteur de pr√©sence" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Temperature">
                    Plus
                    <img src="Icones/ajoutLow.png" alt="ajoutLow" class="icon-leftDevis">
                  </button>
                </li>

              </ul>
            </nav>
          </div>

          <!-- Nouveau contenu pour la partie droite 
        --> 
     <div class="container-right"></div>
      </section>

      <!-- Ajout Appareil -->
      <section id="section_Ajout" class="content-section" style="display: none;">
        <div class="container-top">
          <p>Ajout √©quipements</p>
        </div>
        <div class="containers">
          <div class="container-left">
            <nav>
              <ul class="nav-buttonsDevis">
                <li>
                  <button class="nav-link_devis active" data-target="section-Eclairage">
                    Eclairage
                    <img src="Icones/lumiere.png" alt="Eclairage" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Prise">
                    Prise connect√©e
                    <img src="Icones/prise.png" alt="Prise connect√©e" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Climatiseur">
                    Climatiseur
                    <img src="Icones/clim.png" alt="Climatiseur" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Sonnette">
                    Sonnette
                    <img src="Icones/sonnette.png" alt="Sonnette" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Station">
                    Station m√©t√©o
                    <img src="Icones/nuage.png" alt="Station m√©t√©o" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Gaz">
                    D√©tecteur de gaz
                    <img src="Icones/smoke.png" alt="D√©tecteur de gaz" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Presence">
                    D√©tecteur de pr√©sence
                    <img src="Icones/mouvement.png" alt="D√©tecteur de pr√©sence" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Temperature">
                    Capteur Temp√©rature et humidit√©
                    <img src="Icones/temperature.png" alt="Temp√©rature et humidit√©" class="icon-leftDevis">
                  </button>
                </li>
                <li>
                  <button class="nav-link_devis" data-target="section_Porte">
                    D√©tecteur de porte
                    <img src="Icones/porte.png" alt="D√©tecteur de porte" class="icon-leftDevis">
                  </button>
                </li>
              </ul>
            </nav>
          </div>

          <!--
         Nouveau contenu pour la partie droite 
             -->
          <div class="container-right">
            <!-- Section liste des modules -->

            <div id="section-Eclairage" class="section-content active">

              <div class="device-item">
                <div class="device-info">
                  <button class="device-button" data-target="detail-m1" onclick="showDetail(this)">
                    Smart switch V1 M1
                  </button>
                  <button class="device-menu">‚ãÆ</button>
                </div>
              </div>
              <div class="device-item">
                <div class="device-info">
                  <button class="device-button" data-target="detail-m2" onclick="showDetail(this)">
                    Smart switch V1 M2
                  </button>
                  <button class="device-menu">‚ãÆ</button>
                </div>
              </div>
              <div class="device-item">
                <div class="device-info">
                  <button class="device-button" data-target="detail-m3" onclick="showDetail(this)">
                    Smart switch V3 M1
                  </button>
                  <button class="device-menu">‚ãÆ</button>
                </div>
              </div>
            </div>

            <!-- D√©tails de chaque module d√©j√† pr√©sents -->

            <!-- Veuillez assurer que le voyant vert est allum√© -->
            <div id="detail-m1" class="section-content">

              <div class="detailHaut">
                <h2>
                  Brancher votre appareille
                </h2>
              </div>
              <div class="detailBas">
                <img src="Icones/module.png" class="icon-module">
                <h3 class="texte-centre">
                  Veuillez vous assurer que le voyant vert
                  s‚Äôallume.
                </h3>
              </div>

              <div class="retour">
                <button class="btn-retour" onclick="goBack()">‚¨Ö Retour</button>
                <button class="btn-suivant" data-target="detail-m1-1" onclick="showDetail(this)">Suivant ‚û°</button>
              </div>
            </div>

            <!-- Un point d‚Äôacc√®s est cr√©e avec un SSID: Smart-xxxx et mot de passe par d√©faut Fortico.1234. -->
            <div id="detail-m1-1" class="section-content">

              <div class="detailHaut">
                <h2>
                  Brancher votre appareille
                </h2>
              </div>
              <div class="detailBas">
                <img src="Icones/module.png" class="icon-module">
                <h3 class="texte-centre">
                  Un point d‚Äôacc√®s est cr√©e avec un SSID: Smart-xxxx et
                  mot de passe par d√©faut Fortico.1234.
                </h3>

              </div>

              <div class="retour">
                <button class="btn-retour" onclick="goBackM1()">‚¨Ö Retour</button>
                <button class="btn-suivant" data-target="detail-m1-2" onclick="showDetail(this)">Suivant ‚û°</button>
              </div>
            </div>
            <div id="detail-m1-2" class="section-content">

              <div class="detailHaut">
                <h2>
                  Brancher votre appareille
                </h2>
              </div>
              <div class="detailBas">
                <img src="Icones/module.png" class="icon-module">
                <h3 class="texte-centre">
                  Veuillez vous connecter la de√ßu.
                </h3>
                <div id="loaderWifi" class="loader-wifi" style="display: none;"></div>

              </div>

              <div class="retour">
                <button class="btn-retour" onclick="goBackM12()">‚¨Ö Retour</button>
                <button class="btn-suivant" data-target="detail-m1-3" onclick="showDetail(this)">Suivant ‚û°</button>
              </div>
            </div>

            <div id="detail-m1-3" class="section-content">
              <div class="detailHaut-conf">
                <h2>Configuration module</h2>
                <h3 id="module">Connecter au module SmartSwitchC1-XXXX</h3>
              </div>
            
              <div class="detailBas">
                <img src="Icones/icons8-routeur-wi-fi-100.png" class="icon-module-router">
                <h3 class="texte-centre">
                  Entrer les param√®tre du routeur afin que le module puisse y connecter.
                </h3>
                <h3 class="texte-centre" >
                 ...
                </h3>

             
              </div>
            
              <div class="retour">
                <button class="btn-retour" onclick="goBackM11()">‚¨Ö Retour</button>
                <button class="btn-suivant" data-target="detail-m1-4" onclick="showDetail(this)">Suivant ‚û°</button>
              </div>
            </div>
            


            <div id="detail-m1-4" class="section-content">

              <div class="detailBasWifi">
                <div class="wifi">
                  <h3 class="texte-centreWifi">
                    S√©lectionnez le r√©seau Wi-Fi 2,4 GHz et
                    saisissez le mot de passe.

                  </h3>
                  <h3 class="centreWifi">
                    Si votre Wi-Fi est 5 GHz, veuillez le r√©glez sur 2,4GHz

                  </h3>
                  <div class="type-wifi">
                    <p>
                      <span class="error">√ó</span> Wi-Fi ‚Äì 5GHz
                      <img src="Icones/icons8-case-√†-cocher-non-coch√©e-100.png" alt="Wi-Fi Off" class="icon">
                    </p>
                    <p>
                      <span class="valid">‚àö</span> Wi-Fi ‚Äì 2.4GHz
                      <img src="Icones/icons8-wifi-100 (1).png" alt="Wi-Fi On" class="icon">
                    </p>
                  </div>

                  <div class="input-wrapper">
                    <div class="input-label">
                      <img src="Icones/wifi-off.png" alt="Wi-Fi" class="icon-wifi" />
                      <input type="text" id="ssid" placeholder="Nom du point d'acc√®s" class="input-wifi" />
                      <span class="text-select">S√©lectionner le Wi-Fi</span>
                    </div>
                  </div>
              
                  <div class="input-wrapper">
                    <div class="input-label">
                      <img src="Icones/lock.png" alt="Lock" class="icon-wifi" />
                      <input type="password" id="password1" placeholder="Mot de passe" class="input-wifi" />
                      <img src="Icones/eye.png" alt="Afficher" class="icon-eye" onclick="togglePassword(this)" data-target="password1" />
                    </div>
                  </div>
              
                  <div class="btn-wrapper">
                    <button class="btn-retour-data" onclick="goBackM2()">‚¨Ö</button>
                    <p id="status" style="text-align:center; color: gray;">Connexion en cours...</p>

                    <button class="btn-connect" id="connectBtn" data-target="detail-m1-5" onclick="handleConnection()" disabled>
                      Connecter
                    </button>
                  </div>
              </div>
            </div>
          </div>

          <div id="detail-m1-5" class="section-content">
            <div class="detailHaut-conf">
              <h2>
                Module connect√© avec succ√®s
              </h2>
            </div>
            <div class="detailBas">
              <img src="Icones/module.png" class="icon-module">
              <h3 class="texte-centre">
                Module connect√© avec succ√®s
              </h3>
              <p>Topic MQTT : <span id="mqttTopic">...</span></p>
              <button onclick="publishMQTT()">üì§ Envoyer un test</button>
            </div>
          
            <div class="retour">
              <button class="btn-retour" onclick="goBackM14()">‚¨Ö Retour</button>
              <button class="btn-suivant" data-target="detail-m1-6" onclick="showDetail(this)">Suivant ‚û°</button>
            </div>
          </div>
          
          <div id="detail-m1-6" class="section-content">
            <div class="container-pair" id="containerPair">
              
              <!-- Premier SmartSwitch -->
              <div class="box-rounded1">
                <div class="top-section">
                  <img src="/Icones/icons8-lumi√®re-100.png" class="icon-light" id="lightIcon" />
                  <label class="switch">
                    <input type="checkbox" data-topic="module/lumiere1" onclick="publishMQTT(this)" />
                    <span class="slider"></span>
                  </label>
                </div>
                <div class="bottom-section">
                  <div class="texts">
                    <p class="p1">Light</p>
                    <h3 id="moduleTitle" class="p2 module-title" >SmartSwitch-001</h3>
                  </div>
                  <button class="more-btn">...</button>
                </div>
              </div>
        
              <!-- Bouton Ajout -->
              <div class="box-rounded2" onclick="addSmartSwitch()">
                <img src="/Icones/ajoutLow.png">
                <h2>Ajout √©quipement</h2>
              </div>
        
            </div>
          </div>
        
            <div id="detail-m2" class="section-content">
              <h2>Smart switch V1 M2</h2>
              <p>Identifiant : m2</p>
              <p>Status : En ligne</p>
              <button onclick="goBack()">‚¨Ö Retour</button>
            </div>

            <div id="detail-m3" class="section-content">
              <h2>Smart switch V3 M1</h2>
              <p>Identifiant : m3</p>
              <p>Status : En ligne</p>
              <button onclick="goBack()">‚¨Ö Retour</button>
            </div>
            <div id="section_Prise" class="section-content">Contenu Prise connect√©e</div>
            <div id="section_Climatiseur" class="section-content">Contenu Climatiseur</div>
            <div id="section_Sonnette" class="section-content">Contenu Sonnette</div>
            <div id="section_Station" class="section-content">Contenu Station m√©t√©o</div>
            <div id="section_Gaz" class="section-content">Contenu D√©tecteur de gaz</div>
            <div id="section_Presence" class="section-content">Contenu D√©tecteur de pr√©sence</div>
            <div id="section_Temperature" class="section-content">Contenu Temp√©rature et humidit√©</div>
            <div id="section_Porte" class="section-content">Contenu D√©tecteur de porte</div>
          </div>
        </div>
      </section>

      <!-- Section Appareil -->
      <section id="section_scene" class="content-section" style="display: none;">
        <div class="conteneur-hautScene">
          <p>Sc√®ne</p>
        </div>
        <div class="conteneur-basScene">
          <p>Cette page n‚Äôest pas encore disponible</p>
        </div>
      </section>

      <!-- Section Appareil -->
      <section id="section_acces" class="content-section" style="display: none;">
        <div class="conteneur-hautAcces">
          <p>Acces</p>
        </div>
        <div class="conteneur-basAcces">
          <p>Cette page n‚Äôest pas encore disponible</p>
        </div>
      </section>
      <!-- Section Appareil -->
      <section id="section_parametre" class="content-section" style="display: none;">
        <h1>parametre</h1>
        <p>Contenu des parametre</p>
      </section>
    </div>
    <footer>

    </footer>
  </div>
            <!-- Overlay flou -->
            <div id="overlay"></div>
        
            <!-- Menu contextuel -->
            <div id="contextMenu">
              <button id="btnPropos">A propos du module</button>
              <button id="btnParam">Configuration</button>
              <button id="btnParam">Param√®tre</button>
              <button id="btnDelete">Supprimer</button>
            </div>
          
            <!-- Modale Configuration -->
            <div id="modalConfig">
              <h2>D√©tails du module</h2>
            
              <div class="ligne-info">
                <strong>Tension d'alimentation :</strong>
                <span class="valeur">230V AC</span>
              </div>
            
              <div class="ligne-info">
                <strong>Courant maximal :</strong>
                <span class="valeur">10A</span>
              </div>
            
              <div class="ligne-info">
                <strong>Version firmware :</strong>
                <span class="valeur">v1.2.3</span>
              </div>
            
              <div class="ligne-info">
                <strong>Adresse MAC du module :</strong>
                <span id="macAddress" class="valeur">En attente...</span>
              </div>
            
              <div class="ligne-info">
                <strong>IP locale :</strong>
                <span class="valeur">192.168.4.1</span>
              </div>
            
              <button id="btnClose">Fermer</button>
            </div>
            
            
</body>

</html>